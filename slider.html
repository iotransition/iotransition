<html>
  <head>
    <style>
    body {
      margin: 1em auto;
      max-width: 45em;
      padding: 0.8em;
      background: white;
    }
    #onoff {
         height:170px;
         width:300px;
    }
    </style>
  </head>
  <body>
    <h1>IoTransition Switch Control</h1>
    <input id = "slider" input type="range" min="0" max="180" value="0" onchange="showValue(this.value)" style="font-size:25px" />
    <span id="range">0</span>
    <br>
    <br>
    <input type="button" value="On" onmousedown="showValue(180)" id="onoff" style="font-size:60px" >
    <br>
    <br>
    <input type="button" value="Off" onmousedown="showValue(0)" id="onoff" style="font-size:60px" >
    <script type="text/javascript">
    function showValue(newValue) {
      document.getElementById("range").innerHTML=newValue;
      slider.value = newValue;
      var request = new XMLHttpRequest();
      var dev_id = "2d002f000547343339373536";
      var access = "c4889b75e756973ef6bded5ffa32f5e590833e89";
      var data = 'params='+newValue+'&access_token='+access;
      var url = 'https://api.particle.io/v1/devices/'+dev_id+'/setpos/';
      request.open('POST', url, true);
      request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');
      request.send(data);
    }
    </script>
  </body>
</html>



<!--Servo serv;
int pos = 0;

void setup() {
    serv.attach(D0);
    Spark.function("setpos", setPos);
    Spark.variable("getpos", &pos, INT);
}

void loop() {
}

int setPos(String pstn) {
    pos = pstn.toInt();
    serv.write(pos);
    return pos;
}-->
